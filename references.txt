https://docs.arducam.com/Raspberry-Pi-Camera/Native-camera/8MP-IMX219/#bookworm-os-pi-5
https://www.raspberrypi.com/documentation/computers/camera_software.html
https://www.raspberrypi.com/documentation/accessories/camera.html
https://www.raspberrypi.com/documentation/computers/camera_software.html#use-multiple-cameras
https://datasheets.raspberrypi.com/camera/picamera2-manual.pdf?_gl=1*nuxptn*_ga*ODY0NzEwOTguMTcyMDY2MDI0NQ..*_ga_22FD70LWDS*MTcyMDY3NjY0My4yLjEuMTcyMDY3NzA5MC4wLjAuMA..

sudo apt update
sudo apt install libcamera-utils

cam -l # list all the cameras.


cameras:
  - name: imx219_1
    camera_id: 0
    fmt:
      width: 1920
      height: 1080
      pixelformat: YUV420

  - name: imx219_2
    camera_id: 1
    fmt:
      width: 1280
      height: 720
      pixelformat: YUV420

  - name: usb_camera
    camera_id: 2
    fmt:
      width: 640
      height: 480
      pixelformat: YUYV


cam -c config.yaml

cam -o output.jpg -n 1 # o for output, n for cam number.

rpicam-jpeg --output test.jpg --timeout 2000 --width 640 --height 480
rpicam-jpeg --output test.jpg --nopreview --width 640 --height 480

import cv2
import subprocess

# Define the command as a list of strings
command1 = [
    'rpicam-jpeg',
    '--output', 'test.jpg',
    '--nopreview',
    '--width', '640',
    '--height', '480',
    '--camera', '0'
]


def get_rgb():
    # Open the webcam (use 0 if you have only one webcam, otherwise specify the correct index)
    cap = cv2.VideoCapture(0)

    if not cap.isOpened():
        print("Error: Could not open webcam.")
        return

    # Capture frame-by-frame
    ret, frame = cap.read()

    if not ret:
        print("Error: Failed to capture image.")
        return

    # Release the webcam
    cap.release()

    # Save the captured frame as an image file
    cv2.imwrite('captured_image.jpg', frame)
    print("Image captured and saved as captured_image.jpg")

if __name__ == "__main__":
    # Run the command using subprocess
	subprocess.run(command1)
    

